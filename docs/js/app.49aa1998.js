(function(A){function t(t){for(var i,s,r=t[0],h=t[1],a=t[2],d=0,c=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&c.push(n[s][0]),n[s]=0;for(i in h)Object.prototype.hasOwnProperty.call(h,i)&&(A[i]=h[i]);u&&u(t);while(c.length)c.shift()();return o.push.apply(o,a||[]),e()}function e(){for(var A,t=0;t<o.length;t++){for(var e=o[t],i=!0,r=1;r<e.length;r++){var h=e[r];0!==n[h]&&(i=!1)}i&&(o.splice(t--,1),A=s(s.s=e[0]))}return A}var i={},n={app:0},o=[];function s(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return A[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=A,s.c=i,s.d=function(A,t,e){s.o(A,t)||Object.defineProperty(A,t,{enumerable:!0,get:e})},s.r=function(A){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},s.t=function(A,t){if(1&t&&(A=s(A)),8&t)return A;if(4&t&&"object"===typeof A&&A&&A.__esModule)return A;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:A}),2&t&&"string"!=typeof A)for(var i in A)s.d(e,i,function(t){return A[t]}.bind(null,i));return e},s.n=function(A){var t=A&&A.__esModule?function(){return A["default"]}:function(){return A};return s.d(t,"a",t),t},s.o=function(A,t){return Object.prototype.hasOwnProperty.call(A,t)},s.p="./";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],h=r.push.bind(r);r.push=t,r=r.slice();for(var a=0;a<r.length;a++)t(r[a]);var u=h;o.push([0,"chunk-vendors"]),e()})({0:function(A,t,e){A.exports=e("56d7")},"56d7":function(A,t,e){"use strict";e.r(t);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i=e("2b0e"),n=function(){var A=this,t=A.$createElement,e=A._self._c||t;return e("div",{attrs:{id:"app"}},[e("pre",{staticClass:"info-screen"},[A._v("  "),e("h4",[A._v("按 tab 调整获取焦点的元素")]),e("h4",[A._v("按住shift 斜角等比例缩放")]),e("h4",[A._v("按方向键 单步移动元素 （1px）")]),A._v(A._s(A.recs[A.focusIndex]))]),e("div",{staticClass:"canvas"},A._l(A.recs,(function(t,i){return e("vue-drag-resizer",{key:i,attrs:{width:t.width,height:t.height,left:t.left,top:t.top,rotate:t.rotate,focus:A.focusIndex===i,"focus-z-index":999,canvas:"#app"},on:{"update:width":function(e){return A.$set(t,"width",e)},"update:height":function(e){return A.$set(t,"height",e)},"update:left":function(e){return A.$set(t,"left",e)},"update:top":function(e){return A.$set(t,"top",e)},"update:rotate":function(e){return A.$set(t,"rotate",e)},focus:function(t){return A.handleFocus(i)}}},[t.text?e("img",{attrs:{src:t.img,alt:""}}):e("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.img,alt:""}}),t.text?e("div",{staticClass:"text",staticStyle:{width:"100%",height:"100%"},attrs:{src:t.img,alt:""}},[A._v(" "+A._s(t.text)+" ")]):A._e()])})),1)])},o=[],s=function(){var A=this,t=A.$createElement,e=A._self._c||t;return e("div",{ref:"drager",class:["yo-canvas-drager",{active:A.mousedown||A.focus}],style:A.DragerStyles,attrs:{tabindex:A.tabindex},on:{focus:A.handleDragerFocus,keydown:function(t){if(!t.type.indexOf("key")&&16!==t.keyCode)return null;t.stopPropagation(),t.preventDefault(),A.shiftKeyDown=!0},keyup:function(t){if(!t.type.indexOf("key")&&16!==t.keyCode)return null;t.stopPropagation(),t.preventDefault(),A.shiftKeyDown=!1},mousedown:A.handleDragerMouseDown}},[e("div",{ref:"el",staticClass:"yo-drag-el"},[A._t("default")],2),A.focus||A.mousedown?e("div",{staticClass:"yo-drager-resize-spans"},[A._l(8,(function(t){return e("span",{key:t,staticClass:"yo-canvas-drager-pointer",on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),A.handlePointMouseDown(e,t)}}})})),e("span",{staticClass:"yo-canvas-drager-rotate-line",style:A.rotateStyle,on:{mousedown:function(t){return t.stopPropagation(),t.preventDefault(),A.handleRoateMouseDown.apply(null,arguments)}}})],2):A._e()])},r=[];e("a9e3"),e("99af"),e("caad");function h(A,t,e){var i=e+A,n=(i-A)/A;return{width:i,height:t+t*n}}var a="data:application/octet-stream;base64,AAACAAEAGBgAAAwADACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAYAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAJwAAAEkAAABpAAAAcAAAAF0AAAA3AAAAEwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEYAAAC0AAAA8QAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA1wAAAIQAAAAYAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAlAAAAP8AAAD8AAAApgAAAFoAAAA3AAAAMAAAAEQAAAB3AAAAzwAAAP8AAADlAAAAUgAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAC7AAAA/wAAAKUAAAAlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFYAAADgAAAA/wAAAG0AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAC/AAAAggAAAAAAAAAAAAAAAgAAAAIAAAABAAAAAQAAAAIAAAACAAAAAQAAAAAAAAAdAAAAwQAAAP8AAABVAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFQAAANoAAADnAAAAIgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAEMAAAD/AAAAiQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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",u={props:{tabindex:{type:Number,default:1},focusZIndex:{type:Number,default:1},left:{type:Number,default:0},top:{type:Number,default:0},rotate:{type:Number,default:0},width:{type:Number,default:0},height:{type:Number,default:0},canvas:{type:String,default:"body"},focus:{type:Boolean,default:!1}},computed:{DragerStyles:function(){return"\n        z-index: ".concat(this.zIndex,";\n        width: ").concat(this.width,"px;\n        height: ").concat(this.height,"px;\n        left: ").concat(this.left,"px;\n        top: ").concat(this.top,"px;\n        transform: rotate(").concat(this.rotate,"deg);\n      ")},elementStyle:function(){return"\n        width: ".concat(this.width,"px;\n        height: ").concat(this.height,"px;\n      ")},rotateStyle:function(){return"cursor: url(".concat(a,"), auto;")}},watch:{focus:{immediate:!0,handler:function(A){var t=this;A?this.$nextTick((function(){t.handleDragerFocus()})):this.handleDragerBlur()}}},data:function(){return{zIndex:this.tabindex+1,canvasDom:null,canvasInfo:{bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},shiftKeyDown:!1,mousedown:!1,mousemoveDir:"",mousedownPos:{x:0,y:0},dragerInfo:{top:0,left:0,width:0,height:0},currentDir:0}},methods:{getCanvasInfo:function(){this.canvasDom=document.querySelector(this.canvas),this.canvasInfo=this.canvasDom.getBoundingClientRect()},getDragerInfo:function(){var A=this.$refs.drager,t=A.offsetTop,e=A.offsetLeft,i=A.offsetHeight,n=A.offsetWidth;this.dragerInfo={top:t,left:e,height:i,width:n},this.$emit("update:width",n),this.$emit("update:height",i),this.$emit("update:top",t),this.$emit("update:left",e),this.$emit("change",{top:t,left:e,height:i,width:n,rotate:this.rotate})},handleDragerFocus:function(){this.$emit("focus"),this.getCanvasInfo(),this.zIndex=this.focusZIndex||this.tabindex+1,document.addEventListener("keydown",this.handleDragerKeyDown)},handleDragerBlur:function(){this.$emit("blur"),this.zIndex=this.tabindex+1,this.mousedown=!1,document.removeEventListener("keydown",this.handleDragerKeyDown)},handleDragerKeyDown:function(A){var t=A.keyCode,e=[37,38,39,40],i=this.$refs.drager;if(e.includes(t)){switch(A.preventDefault(),A.stopPropagation(),t){case 37:i.style.left=this.left-1+"px";break;case 38:i.style.top=this.top-1+"px";break;case 39:i.style.left=this.left+1+"px";break;case 40:i.style.top=this.top+1+"px";break}this.getDragerInfo()}},handleDragerMouseDown:function(A){this.mousedownPos.x=A.pageX,this.mousedownPos.y=A.pageY,document.addEventListener("mousemove",this.handleDragerMouseMove),document.addEventListener("mouseup",e);var t=this;function e(){document.removeEventListener("mousemove",t.handleDragerMouseMove)}this.getDragerInfo()},handleDragerMouseMove:function(A){var t=this.mousedownPos.x-A.pageX,e=this.mousedownPos.y-A.pageY,i=this.dragerInfo.left-t,n=this.dragerInfo.top-e;i>n&&this.shiftKeyDown?this.$emit("update:left",i):(n>i&&this.shiftKeyDown||this.$emit("update:left",i),this.$emit("update:top",n))},handlePointMouseDown:function(A,t){this.mousedownPos.x=A.pageX,this.mousedownPos.y=A.pageY,this.currentDir=t,document.addEventListener("mousemove",this.handlePointMouseMove),document.addEventListener("mouseup",i);var e=this;function i(){document.removeEventListener("mousemove",e.handlePointMouseMove),document.removeEventListener("mouseup",i),e.getDragerInfo()}this.getDragerInfo()},handlePointMouseMove:function(A){var t=this.$refs.drager,e=A.pageX-this.mousedownPos.x,i=A.pageY-this.mousedownPos.y;if(1===this.currentDir)if(this.shiftKeyDown){var n=h(this.width,this.height,e),o=this.height+this.height-n.height,s=this.width+this.width-n.width;t.style.height=o+"px",t.style.width=s+"px",t.style.top=this.dragerInfo.top+(this.height-o)+"px",t.style.left=this.dragerInfo.left+(this.width-s)+"px"}else t.style.height=this.height-i+"px",t.style.width=this.width-e+"px",t.style.top=this.dragerInfo.top+i+"px",t.style.left=this.dragerInfo.left+e+"px";if(2===this.currentDir&&(t.style.height=this.height-i+"px",t.style.top=this.dragerInfo.top+i+"px"),3===this.currentDir)if(this.shiftKeyDown){var r=h(this.width,this.height,e);t.style.height=r.height+"px",t.style.width=r.width+"px",t.style.top=this.dragerInfo.top+(this.height-r.height)+"px"}else t.style.height=this.height-i+"px",t.style.width=this.width+e+"px",t.style.top=this.dragerInfo.top+i+"px";if(4===this.currentDir&&(t.style.height=this.height+"px",t.style.width=this.width-e+"px",t.style.left=this.dragerInfo.left+e+"px"),5===this.currentDir&&(t.style.width=this.width+e+"px",t.style.height=this.height+"px"),6===this.currentDir)if(this.shiftKeyDown){var a=h(this.width,this.height,e);t.style.width=this.width+this.width-a.width+"px",t.style.height=this.height+this.height-a.height+"px",t.style.left=this.dragerInfo.left+e+"px"}else t.style.width=this.width-e+"px",t.style.height=this.height+i+"px",t.style.left=this.dragerInfo.left+e+"px";if(7===this.currentDir&&(t.style.height=this.height+i+"px"),8===this.currentDir)if(this.shiftKeyDown){var u=h(this.width,this.height,e);t.style.width=u.width+"px",t.style.height=u.height+"px"}else t.style.width=this.width+e+"px",t.style.height=this.height+i+"px"},handleRoateMouseDown:function(A){this.canvasDom.style.cursor="url(".concat(a,"),auto");var t=this.$refs.drager,e=window.event,i=t.getBoundingClientRect(),n={x:i.x+i.width/2,y:i.y+i.height/2},o=Math.atan2(e.pageY-n.y,e.pageX-n.x)-this.rotate*Math.PI/180;document.addEventListener("mousemove",r),document.addEventListener("mouseup",h);var s=this;function r(){var A=window.event,t=Math.atan2(A.pageY-n.y,A.pageX-n.x),e=Math.floor(180*(t-o)/Math.PI);s.$emit("update:rotate",e)}function h(){s.canvasDom.style.cursor="default",document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",h)}}}},d=u,c=(e("6a74"),e("2877")),l=Object(c["a"])(d,s,r,!1,null,"ebd50c38",null),f=l.exports,p={name:"App",components:{VueDragResizer:f},data:function(){return{focusIndex:0,recs:[{width:200,height:100,left:60,top:80,rotate:0,focus:!1,img:"https://as.zbjimg.com/static/nodejs-zbj-utopiacs-web/widget/header-bd-v1/img/newlogo_5b91b4a.png"},{width:240,height:100,left:60,top:280,rotate:0,focus:!1,img:"https://www.baidu.com/img/flexible/logo/pc/result.png"},{width:240,height:100,left:60,top:480,rotate:0,focus:!1,img:"https://www.baidu.com/img/flexible/logo/pc/result.png",text:"https://www.baidu.com/img/flexible/logo/pc/result.png"}]}},methods:{handleFocus:function(A){this.focusIndex=A}}},g=p,w=(e("5c0b"),Object(c["a"])(g,n,o,!1,null,null,null)),m=w.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(A){return A(m)}}).$mount("#app")},"5c0b":function(A,t,e){"use strict";e("9c0c")},"6a74":function(A,t,e){"use strict";e("b9df")},"9c0c":function(A,t,e){},b9df:function(A,t,e){}});
//# sourceMappingURL=app.49aa1998.js.map