(function(t){function e(e){for(var n,h,r=e[0],a=e[1],u=e[2],l=0,c=[];l<r.length;l++)h=r[l],Object.prototype.hasOwnProperty.call(o,h)&&o[h]&&c.push(o[h][0]),o[h]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);d&&d(e);while(c.length)c.shift()();return s.push.apply(s,u||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,r=1;r<i.length;r++){var a=i[r];0!==o[a]&&(n=!1)}n&&(s.splice(e--,1),t=h(h.s=i[0]))}return t}var n={},o={app:0},s=[];function h(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,h),i.l=!0,i.exports}h.m=t,h.c=n,h.d=function(t,e,i){h.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},h.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},h.t=function(t,e){if(1&e&&(t=h(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(h.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)h.d(i,n,function(e){return t[e]}.bind(null,n));return i},h.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return h.d(e,"a",e),e},h.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},h.p="./";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],a=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var d=a;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("pre",{staticClass:"info-screen"},[i("h2",[t._v("按住shift 斜角等比例缩放")]),i("h2",[t._v("按方向键 单步移动元素 （1px）")]),t._v(t._s(t.recs[t.focusIndex]))]),i("div",{staticClass:"canvas"},t._l(t.recs,(function(e,n){return i("vue-drag-resizer",{key:n,attrs:{width:e.width,height:e.height,left:e.left,top:e.top,rotate:e.rotate,focus:t.focusIndex===n,canvas:"#app"},on:{"update:width":function(i){return t.$set(e,"width",i)},"update:height":function(i){return t.$set(e,"height",i)},"update:left":function(i){return t.$set(e,"left",i)},"update:top":function(i){return t.$set(e,"top",i)},"update:rotate":function(i){return t.$set(e,"rotate",i)},focus:function(e){return t.handleFocus(n)}}},[e.text?i("img",{attrs:{src:e.img,alt:""}}):i("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.img,alt:""}}),e.text?i("div",{staticClass:"text",staticStyle:{width:"100%",height:"100%"},attrs:{src:e.img,alt:""}},[t._v(" "+t._s(e.text)+" ")]):t._e()])})),1)])},s=[],h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"drager",class:["yo-canvas-drager",{active:t.mousedown||t.focus}],style:t.DragerStyles,attrs:{tabindex:t.tabindex},on:{focus:t.handleDragerFocus,keydown:function(e){if(!e.type.indexOf("key")&&16!==e.keyCode)return null;e.stopPropagation(),e.preventDefault(),t.shiftKeyDown=!0},keyup:function(e){if(!e.type.indexOf("key")&&16!==e.keyCode)return null;e.stopPropagation(),e.preventDefault(),t.shiftKeyDown=!1},mousedown:t.handleDragerMouseDown}},[i("div",{ref:"el",staticClass:"yo-drag-el"},[t._t("default")],2),t.focus||t.mousedown?i("div",{staticClass:"yo-drager-resize-spans"},[t._l(8,(function(e){return i("span",{key:e,staticClass:"yo-canvas-drager-pointer",on:{mousedown:function(i){return i.stopPropagation(),i.preventDefault(),t.handlePointMouseDown(i,e)}}})})),i("span",{staticClass:"yo-canvas-drager-rotate-line",on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.handleRoateMouseDown.apply(null,arguments)}}})],2):t._e()])},r=[];i("a9e3"),i("99af"),i("caad");function a(t,e,i){var n=i+t,o=(n-t)/t;return{width:n,height:e+e*o}}var u={props:{tabindex:{type:Number,default:1},left:{type:Number,default:0},top:{type:Number,default:0},rotate:{type:Number,default:0},width:{type:Number,default:0},height:{type:Number,default:0},canvas:{type:String,default:"body"},focus:{type:Boolean,default:!1}},computed:{DragerStyles:function(){return"\n        z-index: ".concat(this.zIndex,";\n        width: ").concat(this.width,"px;\n        height: ").concat(this.height,"px;\n        left: ").concat(this.left,"px;\n        top: ").concat(this.top,"px;\n        transform: rotate(").concat(this.rotate,"deg);\n      ")},elementStyle:function(){return"\n        width: ".concat(this.width,"px;\n        height: ").concat(this.height,"px;\n      ")}},watch:{focus:{immediate:!0,handler:function(t){var e=this;t?this.$nextTick((function(){e.handleDragerFocus()})):this.handleDragerBlur()}}},data:function(){return{zIndex:this.tabindex+1,canvasInfo:{bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},shiftKeyDown:!1,mousedown:!1,mousemoveDir:"",mousedownPos:{x:0,y:0},dragerInfo:{top:0,left:0,width:0,height:0},currentDir:0}},methods:{getCanvasInfo:function(){var t=document.querySelector(this.canvas);this.canvasInfo=t.getBoundingClientRect()},getDragerInfo:function(){var t=this.$refs.drager,e=t.offsetTop,i=t.offsetLeft,n=t.offsetHeight,o=t.offsetWidth;this.dragerInfo={top:e,left:i,height:n,width:o},this.$emit("update:width",o),this.$emit("update:height",n),this.$emit("update:top",e),this.$emit("update:left",i),this.$emit("change",{top:e,left:i,height:n,width:o,rotate:this.rotate})},handleDragerFocus:function(){this.$emit("focus"),this.getCanvasInfo(),document.onkeydown=this.handleDragerKeyDown},handleDragerBlur:function(){this.$emit("blur"),this.zIndex=this.tabindex+1,this.mousedown=!1,document.onmousedown=null,document.onkeydown=null},handleDragerKeyDown:function(t){var e=t.keyCode,i=[37,38,39,40],n=this.$refs.drager;if(i.includes(e)){switch(t.preventDefault(),t.stopPropagation(),e){case 37:n.style.left=this.left-1+"px";break;case 38:n.style.top=this.top-1+"px";break;case 39:n.style.left=this.left+1+"px";break;case 40:n.style.top=this.top+1+"px";break}this.getDragerInfo()}},handleDragerMouseDown:function(t){this.mousedownPos.x=t.pageX,this.mousedownPos.y=t.pageY,document.onmousemove=this.handleDragerMouseMove,document.onmouseup=function(){document.onmousemove=null},this.getDragerInfo()},handleDragerMouseMove:function(t){var e=this.mousedownPos.x-t.pageX,i=this.mousedownPos.y-t.pageY,n=this.dragerInfo.left-e,o=this.dragerInfo.top-i;n>o&&this.shiftKeyDown?this.$emit("update:left",n):(o>n&&this.shiftKeyDown||this.$emit("update:left",n),this.$emit("update:top",o))},handlePointMouseDown:function(t,e){var i=this;this.mousedownPos.x=t.pageX,this.mousedownPos.y=t.pageY,this.currentDir=e,document.onmousemove=this.handlePointMouseMove,document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,i.getDragerInfo()},this.getDragerInfo()},handlePointMouseMove:function(t){var e=this.$refs.drager,i=t.pageX-this.mousedownPos.x,n=t.pageY-this.mousedownPos.y;Math.max(i,n);if(1===this.currentDir)if(this.shiftKeyDown){var o=a(this.width,this.height,i),s=this.height+this.height-o.height,h=this.width+this.width-o.width;e.style.height=s+"px",e.style.width=h+"px",e.style.top=this.dragerInfo.top+(this.height-s)+"px",e.style.left=this.dragerInfo.left+(this.width-h)+"px"}else e.style.height=this.height-n+"px",e.style.width=this.width-i+"px",e.style.top=this.dragerInfo.top+n+"px",e.style.left=this.dragerInfo.left+i+"px";if(2===this.currentDir&&(e.style.height=this.height-n+"px",e.style.top=this.dragerInfo.top+n+"px"),3===this.currentDir)if(this.shiftKeyDown){var r=a(this.width,this.height,i);e.style.height=r.height+"px",e.style.width=r.width+"px",e.style.top=this.dragerInfo.top+(this.height-r.height)+"px"}else e.style.height=this.height-n+"px",e.style.width=this.width+i+"px",e.style.top=this.dragerInfo.top+n+"px";if(4===this.currentDir&&(e.style.height=this.height+"px",e.style.width=this.width-i+"px",e.style.left=this.dragerInfo.left+i+"px"),5===this.currentDir&&(e.style.width=this.width+i+"px",e.style.height=this.height+"px"),6===this.currentDir)if(this.shiftKeyDown){var u=a(this.width,this.height,i);e.style.width=this.width+this.width-u.width+"px",e.style.height=this.height+this.height-u.height+"px",e.style.left=this.dragerInfo.left+i+"px"}else e.style.width=this.width-i+"px",e.style.height=this.height+n+"px",e.style.left=this.dragerInfo.left+i+"px";if(7===this.currentDir&&(e.style.height=this.height+n+"px"),8===this.currentDir)if(this.shiftKeyDown){var d=a(this.width,this.height,i);e.style.width=d.width+"px",e.style.height=d.height+"px"}else e.style.width=this.width+i+"px",e.style.height=this.height+n+"px"},handleRoateMouseDown:function(){var t=this,e=this.$refs.drager,i=window.event,n=e.getBoundingClientRect(),o={x:n.x+n.width/2,y:n.y+n.height/2},s=Math.atan2(i.pageY-o.y,i.pageX-o.x)-this.rotate*Math.PI/180;document.onmousemove=function(){var e=window.event,i=Math.atan2(e.pageY-o.y,e.pageX-o.x),n=Math.floor(180*(i-s)/Math.PI);t.$emit("update:rotate",n)},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}}}},d=u,l=(i("c862"),i("2877")),c=Object(l["a"])(d,h,r,!1,null,"753ba689",null),f=c.exports,p={name:"App",components:{VueDragResizer:f},data:function(){return{focusIndex:0,recs:[{width:200,height:100,left:60,top:80,rotate:0,focus:!1,img:"https://as.zbjimg.com/static/nodejs-zbj-utopiacs-web/widget/header-bd-v1/img/newlogo_5b91b4a.png"},{width:240,height:100,left:60,top:280,rotate:0,focus:!1,img:"https://www.baidu.com/img/flexible/logo/pc/result.png"},{width:240,height:100,left:60,top:480,rotate:0,focus:!1,img:"https://www.baidu.com/img/flexible/logo/pc/result.png",text:"https://www.baidu.com/img/flexible/logo/pc/result.png"}]}},methods:{handleFocus:function(t){this.focusIndex=t}}},g=p,w=(i("5c0b"),Object(l["a"])(g,o,s,!1,null,null,null)),y=w.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(y)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";i("9c0c")},"94c1":function(t,e,i){},"9c0c":function(t,e,i){},c862:function(t,e,i){"use strict";i("94c1")}});
//# sourceMappingURL=app.11b864b1.js.map